(function(e){e.pliantPlugins.decorator=function(r,t){var o=e.extend({},r);t.Subscribe("onFieldAdded",function(r){for(var t in r.rules)if(o.hasOwnProperty(t)){r.rules[t].decorate=e.extend({},o[t]),r.rules[t].decorate.content instanceof jQuery||(r.rules[t].decorate.content=e(r.rules[t].decorate.content));var n=e.isFunction(r.rules[t].decorate.what)?r.rules[t].decorate.what.call(this):r.rules[t].decorate.what;switch(r.rules[t].decorate.how.toLowerCase()){case"prepend":n.prepend(r.rules[t].decorate.content);break;case"append":n.append(r.rules[t].decorate.content);break;case"before":n.before(r.rules[t].decorate.content);break;case"after":n.after(r.rules[t].decorate.content);break;default:}}}).Subscribe("onFieldRemoved",function(){for(var e in this.rules)this.rules[e].decorate&&this.rules[e].decorate.content.remove()}).Subscribe("onFieldToggle",function(e){for(var r in this.rules)this.rules[r].decorate&&this.rules[r].decorate.sync&&this.rules[r].decorate.content.toggle(e)}).Subscribe("onFieldRuleToggle",function(e,r){for(var t in this.rules)r==t&&this.rules[t].decorate&&this.rules[t].decorate.sync&&this.rules[t].decorate.content.toggle(e)})}})(jQuery);