(function(e){e.pliantPlugin("htmlrules",{options:{parseOnInit:!1},onReady:function(){this.instance.AddMarkupRules=e.proxy(this.addMarkupRules,this),this.options.parseOnInit&&this.addMarkupRules(this.instance)},traverseComments:function(e){var s=[];if(8===e.nodeType&&/^\s*{.*}\s*$/.test(e.nodeValue))s.splice(0,0,e.nodeValue);else if(e.childNodes.length>0)for(var n=0;e.childNodes.length>n;n++)s=s.concat(this.traverseComments(e.childNodes[n]));return s},addMarkupRules:function(s){var n=s||this.instance,t=this.traverseComments(n[0]);for(var i in t){var a=e.parseJSON(t[i]);a&&a instanceof Object&&a.hasOwnProperty("field")&&a.hasOwnProperty("rules")&&(a.field=e(a.field),this.instance.AddField(a))}}})})(jQuery);