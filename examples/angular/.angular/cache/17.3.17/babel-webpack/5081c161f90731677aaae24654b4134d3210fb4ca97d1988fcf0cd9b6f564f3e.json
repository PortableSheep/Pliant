{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.evaluateRuleset = void 0;\nconst validate_1 = require(\"./validate\");\nconst evaluateRuleset = (registry, data, ruleset, ctx) => {\n  const result = {};\n  if (ruleset.group && ruleset.group.length > 0) {\n    const groupCtx = {\n      ...ctx,\n      field: \"$group\",\n      data\n    };\n    const groupErrors = (0, validate_1.evaluateRules)(registry, data, groupCtx, ruleset.group);\n    if (groupErrors) {\n      result.group = groupErrors;\n    }\n  }\n  if (ruleset.fields) {\n    const fieldErrors = {};\n    Object.keys(ruleset.fields).forEach(field => {\n      var _a, _b;\n      const rules = (_b = (_a = ruleset.fields) === null || _a === void 0 ? void 0 : _a[field]) !== null && _b !== void 0 ? _b : [];\n      if (rules.length === 0) return;\n      const fieldCtx = {\n        ...ctx,\n        field,\n        data\n      };\n      const errors = (0, validate_1.evaluateRules)(registry, data[field], fieldCtx, rules);\n      if (errors) {\n        fieldErrors[field] = errors;\n      }\n    });\n    if (Object.keys(fieldErrors).length > 0) {\n      result.fields = fieldErrors;\n    }\n  }\n  return Object.keys(result).length > 0 ? result : null;\n};\nexports.evaluateRuleset = evaluateRuleset;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}